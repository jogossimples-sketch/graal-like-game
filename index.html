class Jogo {
    constructor(nome) {
        this.nome = nome;
        this.personagens = [];
        this.edificios = [];
    }

    adicionarPersonagem(personagem) {
        this.personagens.push(personagem);
    }

    adicionarEdificio(edificio) {
        this.edificios.push(edificio);
    }
}

class Personagem {
    constructor(nome, tipo) {
        this.nome = nome;
        this.tipo = tipo;
        this.inventario = [];
    }

    pegarItem(item) {
        this.inventario.push(item);
    }
}

// PARTE DA MINERAÇÃO - EXATAMENTE COMO VOCÊ PEDIU!
class Picareta {
    constructor(tipo = "padrão") {
        this.nome = "Picareta";
        this.tipo = tipo;
        this.forcaMineracao = tipo === "padrão" ? 5 : tipo === "ferro" ? 10 : 15;
    }

    toString() {
        return `Picareta de ${this.tipo} (Força: ${this.forcaMineracao})`;
    }
}

class Mineiro extends Personagem {
    constructor(nome, nivel = 1) {
        super(nome, "Mineiro");
        this.nivel = nivel;
        this.picaretasDisponiveis = [new Picareta(), new Picareta("ferro"), new Picareta("diamante")];
        this.picaretaAtual = this.picaretasDisponiveis[0];
    }

    trocarPicareta(tipoPicareta) {
        for (let picareta of this.picaretasDisponiveis) {
            if (picareta.tipo === tipoPicareta) {
                this.picaretaAtual = picareta;
                print(`${this.nome} trocou para picareta de ${tipoPicareta}!`);
                return;
            }
        }
        print(`Picareta de ${tipoPicareta} não encontrada!`);
    }

    minerar() {
        print(`${this.nome} está minerando com ${this.picaretaAtual.toString()}...`);
        return this.picaretaAtual.forcaMineracao * this.nivel;
    }
}

class CasaMineracao {
    constructor(nome = "Casa de Mineração", localizacao = "Montanha") {
        this.nome = nome;
        this.localizacao = localizacao;
        this.mineirosAtuantes = [];
        this.recursosMinerados = 0;
    }

    contratarMineiro(mineiro) {
        if (mineiro.tipo === "Mineiro") {
            this.mineirosAtuantes.push(mineiro);
            print(`${mineiro.nome} foi contratado para trabalhar na ${this.nome}!`);
        } else {
            print(`${mineiro.nome} não é um mineiro, não pode trabalhar aqui!`);
        }
    }

    realizarMineracaoColetiva() {
        print(`\n--- Mineração na ${this.nome} (${this.localizacao}) ---`);
        for (let mineiro of this.mineirosAtuantes) {
            let recursos = mineiro.minerar();
            this.recursosMinerados += recursos;
        }
        print(`Total de recursos minerados: ${this.recursosMinerados}!\n`);
    }
}

// EXEMPLO DE USO QUE FUNCIONA NO GRAAL-LI
const jogo = new Jogo("Meu Jogo com Mineração");

// Criar mineiros
const mineiro1 = new Mineiro("João", 2);
const mineiro2 = new Mineiro("Maria", 3);
mineiro2.trocarPicareta("ferro");

// Criar casa de mineração
const casaMineracao = new CasaMineracao("Casa de Mineração", "Vale dos Minerais");

// Adicionar ao jogo
jogo.adicionarPersonagem(mineiro1);
jogo.adicionarPersonagem(mineiro2);
jogo.adicionarEdificio(casaMineracao);

// Contratar e minerar
casaMineracao.contratarMineiro(mineiro1);
casaMineracao.contratarMineiro(mineiro2);
casaMineracao.realizarMineracaoColetiva();
